{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\darre\\\\OneDrive\\\\Desktop\\\\Final Weight Tracker\\\\Weight Tracker\\\\weight-tracker\\\\src\\\\main.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport AddWeight from \"./add_weight\";\nimport EditWeight from \"./edit_weight\";\nimport DeleteConfirmation from \"./deleteConfirmation\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Main = () => {\n  _s();\n  const [weights, setWeights] = useState([]);\n  const [showAddWeight, setShowAddWeight] = useState(false);\n  const [showEditWeight, setShowEditWeight] = useState(false);\n  const [selectedWeightId, setSelectedWeightId] = useState(null);\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\n\n  // Fetch weights from the backend on component mount\n  const fetchWeights = async () => {\n    try {\n      const response = await fetch(\"http://localhost:5000/weights\");\n      const data = await response.json();\n      console.log(\"Fetched weights:\", data); // Debug log\n      setWeights(data);\n    } catch (error) {\n      console.error(\"Error fetching weights:\", error);\n    }\n  };\n  useEffect(() => {\n    fetchWeights();\n  }, []);\n\n  // Function to add a new weight\n  const addWeight = async weight => {\n    try {\n      const response = await fetch(\"http://localhost:5000/weights\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          weight\n        })\n      });\n      if (response.ok) {\n        fetchWeights(); // Refresh weights list after adding\n      } else {\n        const error = await response.json();\n        console.error(\"Failed to add weight:\", error.message);\n      }\n    } catch (error) {\n      console.error(\"Error adding weight:\", error);\n    }\n  };\n\n  // Function to handle editing a weight\n  const handleEditWeight = id => {\n    setSelectedWeightId(id);\n    setShowEditWeight(true);\n  };\n\n  // Function to handle deleting a weight\n  const handleDeleteWeight = id => {\n    setSelectedWeightId(id);\n    setShowDeleteConfirmation(true); // Show the delete confirmation modal\n  };\n\n  // Function to confirm the deletion\n  const confirmDelete = async () => {\n    if (selectedWeightId) {\n      try {\n        const response = await fetch(`http://localhost:5000/weights/${selectedWeightId}`, {\n          method: \"DELETE\"\n        });\n        if (response.ok) {\n          fetchWeights(); // Refresh weights list after deleting\n          setShowDeleteConfirmation(false); // Hide confirmation modal\n        } else {\n          const error = await response.json();\n          console.error(\"Failed to delete weight:\", error.message);\n        }\n      } catch (error) {\n        console.error(\"Error deleting weight:\", error);\n      }\n    }\n  };\n\n  // Function to cancel deletion\n  const cancelDelete = () => {\n    setShowDeleteConfirmation(false); // Hide confirmation modal\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"Weight List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"space-y-2 mb-6\",\n      children: weights.map(weight => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"text-lg text-gray-700\",\n        children: [\"Weight: \", weight.weight, \" kg\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleEditWeight(weight._id),\n          className: \"ml-4 text-blue-500 hover:text-blue-700\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteWeight(weight._id),\n          className: \"ml-4 text-red-500 hover:text-red-700\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)]\n      }, weight._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowAddWeight(prev => !prev),\n      className: \"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300\",\n      children: showAddWeight ? \"Cancel\" : \"Add Weight\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), showAddWeight && /*#__PURE__*/_jsxDEV(AddWeight, {\n      onAdd: addWeight\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 25\n    }, this), showEditWeight && selectedWeightId && /*#__PURE__*/_jsxDEV(EditWeight, {\n      id: selectedWeightId,\n      onClose: () => {\n        setShowEditWeight(false);\n        fetchWeights(); // Refresh list after edit\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), showDeleteConfirmation && /*#__PURE__*/_jsxDEV(DeleteConfirmation, {\n      onConfirm: confirmDelete,\n      onCancel: cancelDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(Main, \"kDO78c2ZMwmLqwSbf8L05ATlv8Y=\");\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","AddWeight","EditWeight","DeleteConfirmation","jsxDEV","_jsxDEV","Main","_s","weights","setWeights","showAddWeight","setShowAddWeight","showEditWeight","setShowEditWeight","selectedWeightId","setSelectedWeightId","showDeleteConfirmation","setShowDeleteConfirmation","fetchWeights","response","fetch","data","json","console","log","error","addWeight","weight","method","headers","body","JSON","stringify","ok","message","handleEditWeight","id","handleDeleteWeight","confirmDelete","cancelDelete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","_id","prev","onAdd","onClose","onConfirm","onCancel","_c","$RefreshReg$"],"sources":["C:/Users/darre/OneDrive/Desktop/Final Weight Tracker/Weight Tracker/weight-tracker/src/main.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport AddWeight from \"./add_weight\";\r\nimport EditWeight from \"./edit_weight\";\r\nimport DeleteConfirmation from \"./deleteConfirmation\";\r\n\r\nconst Main: React.FC = () => {\r\n  const [weights, setWeights] = useState<{ _id: string; weight: number }[]>([]);\r\n  const [showAddWeight, setShowAddWeight] = useState(false);\r\n  const [showEditWeight, setShowEditWeight] = useState(false);\r\n  const [selectedWeightId, setSelectedWeightId] = useState<string | null>(null);\r\n  const [showDeleteConfirmation, setShowDeleteConfirmation] = useState(false);\r\n\r\n  // Fetch weights from the backend on component mount\r\n  const fetchWeights = async () => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/weights\");\r\n      const data = await response.json();\r\n      console.log(\"Fetched weights:\", data); // Debug log\r\n      setWeights(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching weights:\", error);\r\n    }\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n    fetchWeights();\r\n  }, []);\r\n\r\n  // Function to add a new weight\r\n  const addWeight = async (weight: number) => {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/weights\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ weight }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        fetchWeights(); // Refresh weights list after adding\r\n      } else {\r\n        const error = await response.json();\r\n        console.error(\"Failed to add weight:\", error.message);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding weight:\", error);\r\n    }\r\n  };\r\n\r\n  // Function to handle editing a weight\r\n  const handleEditWeight = (id: string) => {\r\n    setSelectedWeightId(id);\r\n    setShowEditWeight(true);\r\n  };\r\n\r\n  // Function to handle deleting a weight\r\n  const handleDeleteWeight = (id: string) => {\r\n    setSelectedWeightId(id);\r\n    setShowDeleteConfirmation(true); // Show the delete confirmation modal\r\n  };\r\n\r\n  // Function to confirm the deletion\r\n  const confirmDelete = async () => {\r\n    if (selectedWeightId) {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/weights/${selectedWeightId}`, {\r\n          method: \"DELETE\",\r\n        });\r\n\r\n        if (response.ok) {\r\n          fetchWeights(); // Refresh weights list after deleting\r\n          setShowDeleteConfirmation(false); // Hide confirmation modal\r\n        } else {\r\n          const error = await response.json();\r\n          console.error(\"Failed to delete weight:\", error.message);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error deleting weight:\", error);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function to cancel deletion\r\n  const cancelDelete = () => {\r\n    setShowDeleteConfirmation(false); // Hide confirmation modal\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">Weight List</h1>\r\n\r\n      {/* Display list of weights */}\r\n      <ul className=\"space-y-2 mb-6\">\r\n        {weights.map((weight) => (\r\n          <li key={weight._id} className=\"text-lg text-gray-700\">\r\n            Weight: {weight.weight} kg\r\n            <button\r\n              onClick={() => handleEditWeight(weight._id)}\r\n              className=\"ml-4 text-blue-500 hover:text-blue-700\"\r\n            >\r\n              Edit\r\n            </button>\r\n            <button\r\n              onClick={() => handleDeleteWeight(weight._id)}\r\n              className=\"ml-4 text-red-500 hover:text-red-700\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      {/* Button to toggle AddWeight visibility */}\r\n      <button\r\n        onClick={() => setShowAddWeight((prev) => !prev)}\r\n        className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n      >\r\n        {showAddWeight ? \"Cancel\" : \"Add Weight\"}\r\n      </button>\r\n\r\n      {/* Conditionally render AddWeight component */}\r\n      {showAddWeight && <AddWeight onAdd={addWeight} />}\r\n\r\n      {/* Conditionally render EditWeight component */}\r\n      {showEditWeight && selectedWeightId && (\r\n        <EditWeight\r\n          id={selectedWeightId}\r\n          onClose={() => {\r\n            setShowEditWeight(false);\r\n            fetchWeights(); // Refresh list after edit\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Conditionally render DeleteConfirmation modal */}\r\n      {showDeleteConfirmation && (\r\n        <DeleteConfirmation onConfirm={confirmDelete} onCancel={cancelDelete} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}